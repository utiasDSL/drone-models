# This file contains all the **physical** parameters for all models.

[cf2x_L250]
gravity_vec = [0.0, 0.0, -9.81]
mass = 0.033
L = 0.03253
J = [
    [16.8e-6, 0.0, 0.0],
    [0.0, 16.8e-6, 0.0],
    [0.0, 0.0, 29.8e-6]
]
rpm2thrust = [0.0, 0.0, 3.16e-10] # TODO, Index is order
rpm2torque = [0.0, 0.0, 7.94e-12] # TODO, Index is order
# TODO: This is an arbitrary number that leads to a working simulation. It MUST be fitted and
# updated as soon as possible.
thrust_tau = 0.03 # TODO value?
rotor_tau = 0.03 # TODO value?
mixing_matrix = [
    [-1.0, -1.0,  1.0,  1.0],
    [-1.0,  1.0,  1.0, -1.0],
    [-1.0,  1.0, -1.0,  1.0]
]
# The following parameters are for the platform, but are maybe not actually used by the models. However, 
# we still keep them here in one place, since some other things (sim, estimator, firmware) might need them.
pwm_min = 7000
pwm_max = 65535
thrust_min = 0.02  # in N per motor
thrust_max = 0.1125  # in N per motor
vmotor_min = 1.003506695043662  # in V
vmotor_max = 2.903351097106251  # in V
vmotor2thrust = [-0.014830744918356092, 0.04724465241828281, -0.01847364358025878, 0.005960923942142]  # Index is order
vmotor2torque = [-0.014830744918356092, 0.04724465241828281, -0.01847364358025878, 0.005960923942142]  # TODO, Index is order
vmotor2rpm = [2828.6593993157803, 6686.5508078905705]  # Index is order
prop_radius = 23.55e-3 # TODO check
prop_inertia = 34.52e-9 # TODO seems off


[cf2x_P250]
gravity_vec = [0.0, 0.0, -9.81]
mass = 0.03454
L = 0.03253
# J from IROS 2022
J = [ # TODO
    [14e-6, 0.0,    0.0],
    [0.0, 14e-6, 0.0],
    [0.0, 0.0, 21.7e-6]
]
rpm2thrust = [0.0, 0.0, 5.792654323957372e-10] # TODO, Index is order
rpm2torque = [0.0, 0.0, 7.94e-12] # TODO, Index is order
thrust_tau = 0.138 # TODO value?
rotor_tau = 0.138 # TODO value?
mixing_matrix = [
    [-1.0, -1.0,  1.0,  1.0],
    [-1.0,  1.0,  1.0, -1.0],
    [-1.0,  1.0, -1.0,  1.0]
]
# The following parameters are for the platform, but are maybe not actually used by the models. However, 
# we still keep them here in one place, since some other things (sim, estimator, firmware) might need them.
pwm_min = 7000
pwm_max = 65535
thrust_min = 0.02  # in N per motor
thrust_max = 0.1125  # in N per motor
vmotor_min = 0.9857578735524497  # in V
vmotor_max = 2.9966889966322077  # in V
vmotor2thrust = [-0.02427920377129026, 0.06433042290821364, -0.026401054210489865, 0.006731877887386432]  # Index is order
vmotor2torque = [-0.02427920377129026, 0.06433042290821364, -0.026401054210489865, 0.006731877887386432]  # TODO, Index is order
vmotor2rpm = [4741.994550959416, 7472.9374014021605]  # Index is order
prop_radius = 23.4e-3 # TODO check
prop_inertia = 26.97e-9


[cf2x_T350]
gravity_vec = [0.0, 0.0, -9.81]
mass = 0.03454 # TODO
L = 0.03253
J = [ # TODO
    [14e-6, 0.0,   0.0    ],
    [0.0,   14e-6, 0.0    ],
    [0.0,   0.0,   21.7e-6]
]
rpm2thrust = [0.0, -7.167227176573658e-7, 2.9401303690194613e-10] # TODO, Index is order
rpm2torque = [0.0, 3.884268812786822e-10, 1.3440972732648553e-12] # TODO, Index is order
thrust2torque = 0.0051648627905205285
thrust_tau = 0.09625268508006131
rotor_tau = 0.0984319234122739
mixing_matrix = [
    [-1.0, -1.0,  1.0,  1.0],
    [-1.0,  1.0,  1.0, -1.0],
    [-1.0,  1.0, -1.0,  1.0]
]
# The following parameters are for the platform, but are maybe not actually used by the models. However, 
# we still keep them here in one place, since some other things (sim, estimator, firmware) might need them.
pwm_min = 7000
pwm_max = 65535
thrust_min = 0.01922636758983749  # in N per motor
thrust_max = 0.18  # in N per motor
vmotor_min = 0.6793663344313334  # in V
vmotor_max = 2.8165505305299003  # in V
vmotor2thrust = [0.006728127583707208, 0.01011557616217668, 0.010263198062061085, 0.0028358638322392503]  # Index is order
vmotor2torque = [1.1904380527512142e-5, 7.155966384362375e-5, 7.930009008920624e-5, 3.099617784543349e-6]  # TODO, Index is order
vmotor2rpm = [2738.439005850152, 8054.983767001532]  # Index is order
prop_radius = 25.4e-3 # TODO check
prop_inertia = 38.93e-9 # TODO value from B500, currenty unknown


[cf21B_500]
gravity_vec = [0.0, 0.0, -9.81]
mass = 0.04338
L = 0.035355
J = [
    [25e-6, 0.0,   0.0],
    [0.0,   28e-6, 0.0],
    [0.0,   0.0,   49e-6]
]
rpm2thrust = [0.0, -3.133427287299859e-7, 4.407354891648379e-10] # TODO , Index is order
rpm2torque = [0.0, 1.65886356219615e-9, 2.4693477924534137e-12] # TODO , Index is order
thrust2torque = 0.00593893393599368
thrust_tau = 0.06286705869479182
rotor_tau = 0.06082197967926632
mixing_matrix = [
    [-1.0, -1.0,  1.0,  1.0],
    [-1.0,  1.0,  1.0, -1.0],
    [-1.0,  1.0, -1.0,  1.0]
]
# The following parameters are for the platform, but are maybe not actually used by the models. However, 
# we still keep them here in one place, since some other things (sim, estimator, firmware) might need them.
pwm_min = 7000
pwm_max = 65535
thrust_min = 0.02136263065537499  # in N per motor
thrust_max = 0.2  # in N per motor
vmotor_min = 0.8298950452630223  # in V
vmotor_max = 3.084359953389033  # in V
vmotor2thrust = [-0.014058926705279723, 0.04265273261724981, 0.0018327760144017432, 0.0020576974784587178]  # Index is order
vmotor2torque = [-0.00016088354909542246, 0.0003960426420309137, -4.6274122414327404e-5, 1.8490661674309596e-5]  # TODO, Index is order
vmotor2rpm = [2938.3995608848436, 6001.834195381014]  # Index is order
prop_radius = 27.5e-3 # TODO check
prop_inertia = 38.93e-9